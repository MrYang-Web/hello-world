<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>04-随机颜色表格</title>
	<style type="text/css">
		table {margin-top: 20px;width: 100%;border: 1px solid #ddd;border-collapse: collapse;}
		td,th {border: 1px solid #ddd;padding: 5px 10px;}
		td{padding: 0;height: 30px;}
		td input{width: 100%;height: 30px;border: none;background:#ffc;}
	</style>
	<script src="../common.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		
		/* 
			parent.appendChild(node) 在元素parent最后追加node (不影响原来的内容)
		 */
		window.onload =function () {
			var row = document.getElementById('row');
			var col = document.getElementById('col');
			var btnCreate = document.getElementById('btnCreate');
			var container = document.getElementById('container');
			
			btnCreate.onclick = function () {
				//获取输入的行/列
				var _row=row.value;
				var _col=row.value;
				
				
				//生成table以及tbody
				var table = document.createElement('table');
				var tbody = document.createElement('tbody');
				table.appendChild(tbody);
				
				//外层循环:控制行
				for (var i=1;i<=_row;i++) {
					
					//创建tr
					var tr = document.createElement('tr');
					//将tr插入tbody为子元素
					tbody.appendChild(tr);
					//随机背景颜色
					tr.style.backgroundColor = randomColor();
					
					//添加行号列
					var firstTd = document.createElement('td');
					firstTd.innerHTML = i;
					tr.appendChild(firstTd);
					
					//内层循环:控制列
					for (var j=1;j<=_col;j++) {
						//创建td
						var td = document.createElement('td');
						td.innerHTML ='单元格'+i+'列/'+j+'行';
						
						//td插入tr为子元素
						tr.appendChild(td);
					}
				}
				
				console.log(table);
				
				//插入前先清除
				container.innerHTML = '';
				//table插入container成为子元素
				container.appendChild(table);
			}
		}
	</script>
</head>
<body>
	<h1>04-随机颜色表格</h1>
	<input type="" name="" id="row" value="" /> 行
	<br>
	<input type="" name="" id="col" value="" /> 列
	<br>
	<button type="button" id="btnCreate">生成表格</button>
	<div id="container">
		
	</div>
</body>
</html>
