<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>80.类的操作</title>
		<link rel="stylesheet" type="text/css" href="demo.css"/>
		<style type="text/css">
			.b1 {
				width: 100px;
				height: 100px;
				background-color: red;
			}
			.b2 {
				width: 200px;
				height: 200px;
				background-color: blue;
			}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var box = document.getElementById("box");
				var btn01 = document.getElementById("btn01");
				
				btn01.onclick = function(){
					// box.style.width = 200 + "px";
					// box.style.height = 400 +"px";
					// box.style.backgroundColor = "blue";
					// box.className = "b2";
					// addClass(box , "b2");
					// removeClass(box,"b2");
					toggleClass(box , "b2");
				}
				
				//定义一个函数,用来向一个元素中添加指定的class属性值
				function addClass(obj , classN){
					// 参数: obj  要添加class的元素,
					// classN 要添加的class值,
					
					//检查obj中是否含有cn
					if (!hasClass(obj , classN)) {
						obj.className += "" + classN; 
					};
				}
				
				//判断一个元素中是否含有指定的class属性值
				//如果有则返回ture
				//如果没有则返回false
				function hasClass(obj , classN){
					//判断obj中有没有cn class
					//创建一个正则表达式
					// var reg = /\bb2\b/;
					var reg = new RegExp("\\b"+classN+"\\b");
					return reg.test(obj.className);
				};
				
				//删除一个指定元素的class属性
				function removeClass(obj , classN){
					// 创建一个正则表达式
					var reg = new RegExp("\\b"+classN+"\\b");
					//删除一个样式
					obj.className = obj.className.replace(reg,"");
				};
				
				//toggleClass可以用来切换一个类
				//如果元素中具有该类,则删除
				//如果元素中没有该类,则添加
				function toggleClass(obj , classN){
					if (hasClass(obj , classN)) {
						// 如果有,则删除
						removeClass(obj , classN);
					}else {
						// 如果没有,则添加
						addClass(obj , classN);
					}
				};
			}
		</script>
	</head>
	<body>
		<h1>80.类的操作</h1>
		<hr />
		<p>通过style属性来修改元素的样式,每修改一次样式,浏览器都需要重新渲染一次页面</p>
		<p>这样的执行的性能是比较差的,而且这种形式当我们要修改多个样式时,也不太方便</p>
		<p>我们希望一行代码,修改多个样式</p>
		<p>className属性就可以满足这项要求</p>
		<p>我们可以通过修改元素的class属性来间接的修改样式</p>
		<hr>
		<button type="button" id="btn01">点击按钮以后修改box的样式</button>
		
		<div id="box" class="b1 b2"></div>
		
		<h3>如果不希望删除掉以前的样式,只希望加上后面的样式</h3>
		<h3>那么做一个字符串拼接即可,注意样式名中间的空格</h3>
		<h3>obj.className += " " + classN</h3>
		<hr >
		<pre>
			//定义一个函数,用来向一个元素中添加指定的class属性值
			function addClass(obj , classN){
				// 参数: obj  要添加class的元素,
				// classN 要添加的class值,
				
				//检查obj中是否含有cn
				if (!hasClass(obj , classN)) {
					obj.className += " " + classN; 
				};
			
			}

			//判断一个元素中是否含有指定的class属性值
			//如果有则返回ture
			//如果没有则返回false
			function hasClass(obj , cn){
				//判断obj中有没有cn class
				//创建一个正则表达式
				// var reg = /\bb2\b/;
				var reg = new RegExp("\\b"+cn+"\\b");
				return reg.test(obj.className);
			};
			<h3>定义上述函数以后,只需要在鼠标点击事件内加入addClass(obj , classN)方法即可添加样式</h3>
			<h3>这样就做到了页面的结构|样式|行为的三分离</h3>
		</pre>
	</body>
</html>
