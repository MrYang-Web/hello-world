<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>21.构造函数</title>
    <link rel="stylesheet" href="demo.css">
    <script>
      function Person (name,age,gander){
        this.name = name,
        this.age = age,
        this.gander = gander,
        this.sayName = function(){
          alert("我是一个人!!!!");
        }
      }
      var per = new Person("阿凡达",24,"男");
      var per1 = new Person("孙悟空",18,"男");
      var per2 = new Person("变形金刚",100000,"未知");
      function Dog (name,age,gander){
        this.name = name,
        this.age = age,
        this.gander = gander,
        this.sayName = function(){
          alert("汪汪汪!!!!");
        }
      }
      var dog = new Dog("旺财",2,"女");
      var dog1 = new Dog("来福",1,"男");
      var dog2 = new Dog("阿黑",4,"男");

      console.log(per);
      console.log(per1);
      console.log(per2);
      console.log(dog);
      console.log(dog1);
      console.log(dog2);


    </script>
  </head>
  <body>
    <h1>21.构造函数</h1>
    <p>为了区分工厂方法批量制造对象类型的不同</p>
    <p>结合上一章,就是为了区分dog和obj2</p>
    <p>创建一个构造函数,专门用来创建person</p>
    <p>再创建一个构造函数,专门用来创建dog</p>
    <p>构造函数就是一个普通的函数,命名的首字母大写,方便阅读</p>
    <p>构造函数与普通函数的区别就是调用方式的不同</p>
    <p>普通函数是直接调用 person();</p>
    <p>构造函数需要使用new关键字来调用 new person();</p>
    <pre>
      function Person (){

      }

      var per = Person();  这种就是普通函数的调用方式.结果是undefind

      var per = new Person();  这是构造函数的调用方式.结果会是一个object
    </pre>
    <p>构造函数的执行过程:</p>
    <p>1.立刻创建一个新的对象</p>
    <p>2.将新建的对象设置为函数中this,在构造函数中可以使用this来引用新的对象</p>
    <p>3.逐行执行函数中的代码</p>
    <p>4.将新建的对象作为返回值返回</p>
    <p>当以函数的形式调用,this是window</p>
    <p>当以方法的形式调用,谁调用方法,this就是谁</p>
    <p>当以构造函数的形式调用,this就是新创建的那个对象</p>
    <pre>
      var per = new Person("阿凡达",24,"男");
      var per1 = new Person("孙悟空",18,"男");
      var per2 = new Person("变形金刚",100000,"未知");
      function Dog (name,age,gander){
        this.name = name,
        this.age = age,
        this.gander = gander,
        this.sayName = function(){
          alert("汪汪汪!!!!");
        }
      }
      var dog = new Dog("旺财",2,"女");
      var dog1 = new Dog("来福",1,"男");
      var dog2 = new Dog("阿黑",4,"男");

      console.log(per);
      console.log(per1);
      console.log(per2);
      console.log(dog);
      console.log(dog1);
      console.log(dog2);

      console.log(per instanceof Person);  返回true.
      console.log(per instanceof Dog);     返回false.
    </pre>
    <p>可以用instanceof来检查一个对象是否是一个类的实例</p>
    <p>语法:</p>
    <pre>
        对象 instanceof 构造函数
        如果是,则返回trun.
        如果不是,则返回false.
    </pre>
    <p>所有的对象都是Object的后代</p>
    <pre>
       console.log(per instanceof Object);
       console.log(dog instanceof Object);    都会返回true.
    </pre>
    <p>所以任何对象做instanceof检查时都会返回true</p>
  </body>
</html>
