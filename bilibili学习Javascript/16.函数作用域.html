<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="demo.css">
    <script>
      //-----1.函数作用域
      // -  调用函数时创建函数作用域,函数执行完毕时,作用域销毁.
      // -  每调用一次函数就创建一次新的作用域,他们之间是互相独立的.
      // -  在函数作用域中可以访问到全局作用域的变量.
      // -  在全局作用域中无法访问到函数作用域的变量.


      // var a = 10;
      // function fun() {
      //     var a = "我是函数中的a";
      //     var b = 20;
      //     console.log(a);   //可以打印 a  结果将是"我是函数中的a"
      // }
      // fun();
      // //console.log(b);   //无法打印  b
      // console.log(a);   //将会打印 10

      //函数执行时,会先在自身作用域中寻找变量.
      //如果有就直接使用,如果没有就将上一级寻找.
      //如果一直向上在全局作用域里也没找到,则会ReferenceError(报错)
      //-----------------小技巧,如果在函数中有同名变量,要想访问全局变量,前面加window即可
      //  function fun1() {
      //      var a = "我是函数中的a";
      //      var b = 20;
      //      console.log(window.a);   //可以打印 a  结果将是"10"
      //  }
      // fun1();


     //------------------------------------------------------
     // var a = 35;
     // function fun3() {
     //   console.log(a);
     //   var a = 35;
     // }
     // fun3();
     //-----在函数作用域中也有声明提前的特性,
     //-----使用var关键字声明的变量,会在函数中所有的代码执行之前被声明.
     //-----上面的函数等同于下面这样:
     // function fun3() {
     //   var a;
     //   console.log(a);
     //   a = 35;
     //     alert("我是fun4")
     //   }
     // //-----所以即便声明了全局变量a
     //-----fun3因为在自己作用域类找到了被声明但未被赋值的a
     //-----依然会报错.
     //--------------------------------------------------

      //函数声明也会在所有代码执行之前执行.
      // fun4();
      // function fun4() {
      //   fun5();
      //   function fun5() {
      //     alert("我是函数5");
      //   }
      // }
      //---------------------------------------------------
      //
      // var a = 33;
      // function fun6() {
      //   console.log(a);
      //   a = 10;
      // }
      // fun6();           //这里会打印33
      //
      // console.log(a);   //这里将会打印 10

      //首先函数6执行,并没有在内部找到a,所以往上继续找到全局a == 33;
      //但是当fun6执行完毕,全局变量a被赋值为10,所以下下面将打印 10  ;
      //如果在函数内,不是使用var 关键字声明变量,等同于在变量名前加 前面加window.
      //那么当函数执行完毕,等于给这个变量赋值为全局变量.


      //------------------------------------------------------
      var e = 23;
      function fun7(e) {
        alert(e);
      }
      fun7();
      //定义形参e,就相当于在函数声明了变量e,但是并未赋值.
      //所以这里fun7执行结果将会是undefind
    </script>
    <title>16.函数的作用域</title>
  </head>
  <body>
    <h1>16.函数的作用域</h1>
    <pre>
      -----1.函数作用域
       -  调用函数时创建函数作用域,函数执行完毕时,作用域销毁.
       -  每调用一次函数就创建一次新的作用域,他们之间是互相独立的.
       -  在函数作用域中可以访问到全局作用域的变量.
       -  在全局作用域中无法访问到函数作用域的变量.


      var a = 10;
      function fun() {
          var a = "我是函数中的a";
          var b = 20;
          console.log(a);   //可以打印 a  结果将是"我是函数中的a"
      }
      fun();
      //console.log(b);   //无法打印  b
      console.log(a);   //将会打印 10

      函数执行时,会先在自身作用域中寻找变量.
      如果有就直接使用,如果没有就将上一级寻找.
      如果一直向上在全局作用域里也没找到,则会ReferenceError(报错)
      -----------------小技巧,如果在函数中有同名变量,要想访问全局变量,前面加window即可
      function fun1() {
         var a = "我是函数中的a";
         var b = 20;
         console.log(window.a);   //可以打印 a  结果将是"10"
     }
    fun1();

    ------------------------------------------------------
     var a = 35;
     function fun3() {
       console.log(a);
       var a = 35;
     }
     fun3();
    -----在函数作用域中也有声明提前的特性,
    -----使用var关键字声明的变量,会在函数中所有的代码执行之前被声明.
    -----上面的函数等同于下面这样:
     function fun3() {
       var a;
       console.log(a);
       a = 35;
         alert("我是fun4")
       }
    -----所以即便声明了全局变量a
    -----fun3因为在自己作用域类找到了被声明但未被赋值的a
    -----依然会报错.
    --------------------------------------------------

        函数声明也会在所有代码执行之前执行.
        fun4();
        function fun4() {
        fun5();
        function fun5() {
          alert("我是函数5");
        }
      }
     ---------------------------------------------------

     var a = 33;
     function fun6() {
       console.log(a);
       a = 10;
     }
     fun6();           //这里会打印33

     console.log(a);   //这里将会打印 10

     首先函数6执行,并没有在内部找到a,所以往上继续找到全局a == 33;
     但是当fun6执行完毕,全局变量a被赋值为10,所以下下面将打印 10  ;
     如果在函数内,不是使用var 关键字声明变量,等同于在变量名前加 前面加window.
     那么当函数执行完毕,等于给这个变量赋值为全局变量.

     ------------------------------------------------------
     var e = 23;
     function fun7(e) {
       alert(e);
     }
     fun7();
     定义形参e,就相当于在函数声明了变量e,但是并未赋值.
     所以这里fun7执行结果将会是undefind
    </pre>
  </body>
</html>
